<div class="d-flex screenBox">
  <div class="d-flex w-50 pl-3">
		<img class="img-fluid rounded w-100" src="../../../../content/images/logofjc.svg"/>
	</div>
  <div class="d-flex w-50 flex-column justify-content-center align-items-center">
    <h1 jhiTranslate="reset.finish.title" class="titlePage"></h1>
    <div class="d-flex boxForm">

      <div class="boxContent" *ngIf="keyMissing">
        <img src="../../../../content/icons/warning.svg" alt="success" class="img-fluid">
        <b class="text-danger missingTitle mt-2" jhiTranslate="reset.finish.messages.keymissing.missingTitle"></b>
        <p class="missingMsgs text-justify" jhiTranslate="reset.finish.messages.keymissing.missingMsg"></p>
          <p class="missingMsgs text-justify">
            <span jhiTranslate="reset.finish.messages.keymissing.missingBackInit"></span>
            <a routerLink="/">Login</a>
            <span jhiTranslate="reset.finish.messages.keymissing.missingBackFinish"></span>
          </p>
      </div>

      <div *ngIf="!keyMissing" class="w-75 d-flex flex-column">

        <div *ngIf="success" class="d-flex flex-column">
          <img src="../../../../content/icons/ic_success.svg" alt="success" class="img-fluid">
          <p class="mt-1">
              <span jhiTranslate="reset.finish.messages.success" class="msgChange"></span>
              <a routerLink="/" jhiTranslate="reset.finish.messages.successLink"></a>.
          </p>
        </div>


          <form *ngIf="!success" name="form" role="form" (ngSubmit)="finishReset()" [formGroup]="passwordForm" class="d-flex flex-column">
            <div class="text-center">
                <p jhiTranslate="reset.finish.messages.info" class="msgChange mb-0"></p>
            </div>
            <jhi-password-strength-bar [passwordToCheck]="passwordForm.get('newPassword').value"></jhi-password-strength-bar>

            <div *ngIf="error">
                <p jhiTranslate="reset.finish.messages.error" class="text-danger invalidData">Your password couldn't be reset. Remember a password request is only valid for 24 hours.</p>
            </div>

            <div class="text-danger invalidData" *ngIf="doNotMatch" jhiTranslate="global.messages.error.dontmatch">
                The password and its confirmation do not match!
            </div>

              <div class="form-group">

                  <label class="form-control-label labelForm" for="password" jhiTranslate="global.form.newpassword.label"></label>
                  <input type="password" class="form-control" id="password" name="password"
                         placeholder="{{'global.form.newpassword.placeholder' | translate}}" formControlName="newPassword">

                  <div *ngIf="passwordForm.get('newPassword').invalid && (passwordForm.get('newPassword').dirty || passwordForm.get('newPassword').touched)">
                      <small class="form-text text-danger errors" *ngIf="passwordForm.get('newPassword').errors.required" jhiTranslate="global.messages.validate.newpassword.required">
                      </small>
                      <small class="form-text text-danger errors" *ngIf="passwordForm.get('newPassword').errors.minlength" jhiTranslate="global.messages.validate.newpassword.minlength">
                      </small>
                      <small class="form-text text-danger errors" *ngIf="passwordForm.get('newPassword').errors.maxlength" jhiTranslate="global.messages.validate.newpassword.maxlength"></small>
                  </div>

              </div>

              <div class="form-group">
                  <label class="form-control-label labelForm" for="confirmPassword" jhiTranslate="global.form.confirmpassword.label"></label>
                  <input type="password" class="form-control" id="confirmPassword" name="confirmPassword"
                         placeholder="{{'global.form.confirmpassword.placeholder' | translate}}" formControlName="confirmPassword">

                  <!--<div *ngIf="passwordForm.get('confirmPassword').invalid && (passwordForm.get('confirmPassword').dirty || passwordForm.get('confirmPassword').touched)">
                      <small class="form-text text-danger errors" *ngIf="passwordForm.get('confirmPassword').errors.required" jhiTranslate="global.messages.validate.confirmpassword.required">
                      </small>
                      <small class="form-text text-danger errors" *ngIf="passwordForm.get('confirmPassword').errors.minlength" jhiTranslate="global.messages.validate.confirmpassword.minlength">
                      </small>
                      <small class="form-text text-danger errors" *ngIf="passwordForm.get('confirmPassword').errors.maxlength" jhiTranslate="global.messages.validate.confirmpassword.maxlength">
                      </small>
                  </div>-->
              </div>
              <div class="w-100 d-flex justify-content-center">
                <button type="submit" [disabled]="passwordForm.invalid" class="changeButton" jhiTranslate="reset.finish.form.button"></button>
              </div>
              <div class="mt-2 text-center">
                <a routerLink="/" jhiTranslate="reset.finish.form.linkLogin"></a>
              </div>
          </form>
      </div>
    </div>
  </div>
</div>
<div *ngIf="isSaving">
  <div class="modalBox">
    <div class="firstCircle">
      <div class="secondCircle">
      </div>
    </div>
  </div>
</div>
